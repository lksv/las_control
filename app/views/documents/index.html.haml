.page-header
  %h1= @collection.model_name.human(count: 'other', default: @collection.model_name.human.pluralize)

-# .btn-group.span4.pull-right.text-righ
-#   = link_to t('Zadej novÃ½ dokument', :default => t("helpers.links.new")), upload_document_path, :class => 'btn btn-primary'

- show_actions = @collection.find { |resource| can?(:update, resource) || can?(:destroy, resource) }

.row
  %div{class: 'col-lg-5'}
    %form{class: 'input-group', method: 'get', action: '/documents'}
      %input{type: 'hidden' }
      %input{class: 'form-control', name: 'query'}
      %span{class: 'input-group-btn'}
        %input{class: 'btn btn-success', type: 'submit', value: 'Hledat'}

%table.table.table-striped
  %thead
    %tr
      %th Zdroj
      -# %th= sort_link @q, :local_administration_unit_ruian_locable_id
      %th= sort_link @q, :title
      %th= sort_link @q, :from_date #@collection.human_attribute_name(:from_date)
      - if show_actions
        %th=t '.actions', :default => t("helpers.actions")
  %tbody
    - @collection.each do |resource|
      %tr

        %td= resource.local_administration_unit.ruian_locable.nazev
        %td= link_to resource.title, resource
        %td=l resource.from_date, format: :short

        - if show_actions
          %td
            -# = link_to t('.show', :default => t("helpers.links.show")), [resource], :class => 'btn btn-default btn-xs'
            - if can? :update, resource
              = link_to t('.edit', :default => t("helpers.links.edit")), [:edit, resource], :class => 'btn btn-default btn-xs'
            - if can? :destroy, resource
              = link_to t('.destroy', :default => t("helpers.links.destroy")), [resource], :method => :delete, :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?')) }, :class => 'btn btn-xs btn-danger'


= paginate @collection

